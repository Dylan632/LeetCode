---
type: algorithm
tags:
  - åŠ¨æ€è§„åˆ’
category: åŠ¨æ€è§„åˆ’
difficulty: ğŸŸ¡ Medium
leetcode: 279
created: 2026-02-25 01:05
obsidian-note-status:
  - colorful:needsUpdate
---

## é¢˜ç›®
![[279.png]]

**æç¤ºï¼š**

- `1 <= n <= 10â´`

## æ€è·¯ï¼ˆå¿…å¡«ï¼‰
### ç®—æ³•é€‰æ‹©

åŠ¨æ€è§„åˆ’ã€‚å°†é—®é¢˜çœ‹ä½œã€Œå®Œå…¨èƒŒåŒ…ã€çš„å˜ä½“ â€”â€” ç‰©å“æ˜¯æ‰€æœ‰ â‰¤ n çš„å®Œå…¨å¹³æ–¹æ•°ï¼Œæ¯ä¸ªå¯æ— é™æ¬¡ä½¿ç”¨ï¼Œæ±‚æ°å¥½è£…æ»¡å®¹é‡ n çš„æœ€å°‘ç‰©å“æ•°ã€‚

### å®ç°æ­¥éª¤

1. å®šä¹‰ `dp[i]`ï¼šå‡‘æˆæ•°å­— i æ‰€éœ€çš„æœ€å°‘å®Œå…¨å¹³æ–¹æ•°ä¸ªæ•°
2. åŸºç¡€çŠ¶æ€ï¼š`dp[0] = 0`ï¼ˆ0 ä¸éœ€è¦ä»»ä½•å¹³æ–¹æ•°ï¼‰
3. å¯¹äºæ¯ä¸ª iï¼Œæšä¸¾æ‰€æœ‰æ»¡è¶³ $j^2 \leq i$ çš„ jï¼Œå°è¯•ä» `dp[i - jÂ²]` è½¬ç§»
4. è½¬ç§»æ–¹ç¨‹ï¼š`dp[i] = min(dp[i - jÂ²]) + 1`ï¼ˆé€‰ä¸€ä¸ª $j^2$ï¼Œå‰©ä½™éƒ¨åˆ†çš„æœ€ä¼˜è§£ +1ï¼‰

### è¯¦ç»†æ¨å¯¼

ä¾æ®é¢˜ç›®çš„è¦æ±‚å†™å‡ºçŠ¶æ€è¡¨è¾¾å¼ï¼š$f[i]$ è¡¨ç¤ºæœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ•°çš„å¹³æ–¹æ¥è¡¨ç¤ºæ•´æ•° $i$ã€‚
è¿™äº›æ•°å¿…ç„¶è½åœ¨åŒºé—´ $[1, \sqrt{i}]$ã€‚æˆ‘ä»¬å¯ä»¥æšä¸¾è¿™äº›æ•°ï¼Œå‡è®¾å½“å‰æšä¸¾åˆ° $j$ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦å–è‹¥å¹²æ•°çš„å¹³æ–¹ï¼Œæ„æˆ $i - j^2$ã€‚æ­¤æ—¶æˆ‘ä»¬å‘ç°è¯¥å­é—®é¢˜å’ŒåŸé—®é¢˜ç±»ä¼¼ï¼Œåªæ˜¯è§„æ¨¡å˜å°äº†ã€‚è¿™ç¬¦åˆäº†åŠ¨æ€è§„åˆ’çš„è¦æ±‚ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

$$f[i] = 1 + \min_{j=1}^{\lfloor\sqrt{i}\rfloor} f[i - j^2]$$

å…¶ä¸­ $f[0] = 0$ ä¸ºè¾¹ç•Œæ¡ä»¶ï¼Œå®é™…ä¸Šæˆ‘ä»¬æ— æ³•è¡¨ç¤ºæ•°å­— 0ï¼Œåªæ˜¯ä¸ºäº†ä¿è¯çŠ¶æ€è½¬ç§»è¿‡ç¨‹ä¸­é‡åˆ° $j$ æ°ä¸º $\sqrt{i}$ çš„æƒ…å†µåˆæ³•ã€‚
åŒæ—¶å› ä¸ºè®¡ç®— $f[i]$ æ—¶æ‰€éœ€è¦ç”¨åˆ°çš„çŠ¶æ€ä»…æœ‰ $f[i - j^2]$ï¼Œå¿…ç„¶å°äº $i$ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä»å°åˆ°å¤§åœ°æšä¸¾ $i$ æ¥è®¡ç®— $f[i]$ å³å¯ã€‚

## å…³é”®ç‚¹

> [!Tip] çŠ¶æ€è½¬ç§»æ–¹ç¨‹ $f[i] = 1 + \min_{j=1}^{\lfloor\sqrt{i}\rfloor} f[i - j^2]$ çš„å«ä¹‰æ˜¯ï¼šå¯¹æ¯ä¸ª $i$ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„å®Œå…¨å¹³æ–¹æ•° $j^2$ï¼Œå–å‰©ä½™éƒ¨åˆ† $f[i-j^2]$ çš„æœ€å°å€¼å†åŠ  1ã€‚

## ä»£ç 

```java
class Solution {  
    public int numSquares(int n) {  
        // dp[i] è¡¨ç¤ºç»„æˆ i çš„æœ€å°‘å®Œå…¨å¹³æ–¹æ•°ä¸ªæ•°ï¼Œdp[0] = 0 ä½œä¸ºåŸºç¡€çŠ¶æ€  
        int[] dp = new int[n + 1];  
        for (int i = 1; i <= n; i++) {  
            int minCount = Integer.MAX_VALUE;  
            for (int j = 1; j * j <= i; j++) {  
                minCount = Math.min(minCount, dp[i - j * j]);  
            }  
            dp[i] = minCount + 1;  
        }  
        return dp[n];  
    }  
}
```

## å¤æ‚åº¦

- **Time:** $O(n\sqrt{n})$ â€” å…±éœ€è¦è®¡ç®— $n$ ä¸ªçŠ¶æ€ï¼Œæ¯ä¸ªçŠ¶æ€çš„è½¬ç§»éœ€è¦ $O(\sqrt{n})$ æ¬¡æšä¸¾
- **Space:** $O(n)$ â€” éœ€è¦ $O(n)$ çš„ç©ºé—´ä¿å­˜çŠ¶æ€

## ç›¸ä¼¼é¢˜ç›®

- [[70.çˆ¬æ¥¼æ¢¯]]
- [[198.æ‰“å®¶åŠ«èˆ]]
