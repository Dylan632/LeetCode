---
type: algorithm
tags:
category:
difficulty:
leetcode: 543
created: 2026-02-11 14:55
obsidian-note-status:
  - colorful:needsUpdate
---

## é¢˜ç›®
![[543.png]]

## æ€è·¯ï¼ˆå¿…å¡«ï¼‰

1. é€’å½’æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ï¼ˆååºéå†ï¼Œå…ˆå·¦å³å†è‡ªå·±ï¼‰
2. åœ¨æ¯ä¸ªèŠ‚ç‚¹å¤„ï¼Œè®¡ç®— leftHeight + rightHeightï¼Œè¿™å°±æ˜¯ç»è¿‡è¯¥èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„
3. ç”¨å…¨å±€å˜é‡è®°å½•æ‰€æœ‰èŠ‚ç‚¹ä¸­çš„æœ€å¤§è·¯å¾„å€¼
4. è¿”å› max(left, right) + 1 ä½œä¸ºè¯¥èŠ‚ç‚¹çš„æ·±åº¦

## ç®—æ³•é€‰æ‹©
ååºéå†ï¼ˆDFSï¼‰ã€‚å…³é”®æ´å¯Ÿâ€”â€”ä»»æ„è·¯å¾„éƒ½æœ‰ä¸€ä¸ªâ€œæœ€é«˜ç‚¹â€ï¼ˆæ‹ç‚¹ï¼‰ï¼Œè¯¥è·¯å¾„ = å·¦å­æ ‘æ·±åº¦ + å³å­æ ‘æ·±åº¦ã€‚æ‰€ä»¥åªéœ€åœ¨æ±‚æ·±åº¦çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½è®¡ç®—ä¸€æ¬¡â€œç»è¿‡è¯¥èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„â€ï¼Œå–å…¨å±€æœ€å¤§å€¼ã€‚

## å…³é”®ç‚¹
> [!Tip] æŠŠ"æ±‚ç›´å¾„"å·§å¦™è½¬åŒ–ä¸º"æ±‚æ·±åº¦"çš„é™„äº§å“ï¼Œä¸€æ¬¡éå†è§£å†³ä¸¤ä¸ªé—®é¢˜ã€‚

## ä»£ç 

```java
class Solution {  
    int maxDiameter = 0;  
  
    public int diameterOfBinaryTree(TreeNode root) {  
        maxDepth(root);  
        return maxDiameter;  
    }  
  
    private int maxDepth(TreeNode node) {  
        if (node == null) {  
            return 0;  
        }  
        //ååºéå†  
        int leftHeight = maxDepth(node.left);  
        int rightHeight = maxDepth(node.right);  
        maxDiameter = Math.max(maxDiameter, leftHeight + rightHeight);  
        return Math.max(leftHeight, rightHeight) + 1;  
    }  
}
```

## çŸ¥è¯†ç‚¹
ğŸŒ³ é€’å½’å›¾

ä»¥å¦‚ä¸‹äºŒå‰æ ‘ä¸ºä¾‹ï¼š

```
        1
       / \
      2   3
     / \
    4   5
```

é€’å½’è°ƒç”¨è¿‡ç¨‹ï¼ˆååºéå†ï¼šå·¦ â†’ å³ â†’ æ ¹ï¼‰ï¼š

```

  maxDepth(1)
  â”œâ”€â”€ maxDepth(2)
  â”‚   â”œâ”€â”€ maxDepth(4)
  â”‚   â”‚   â”œâ”€â”€ maxDepth(null) â†’ return 0
  â”‚   â”‚   â””â”€â”€ maxDepth(null) â†’ return 0
  â”‚   â”‚   â†’ left=0, right=0
  â”‚   â”‚   â†’ maxDiameter = max(0, 0+0) = 0
  â”‚   â”‚   â†’ return max(0,0)+1 = 1
  â”‚   â”‚
  â”‚   â””â”€â”€ maxDepth(5)
  â”‚       â”œâ”€â”€ maxDepth(null) â†’ return 0
  â”‚       â””â”€â”€ maxDepth(null) â†’ return 0
  â”‚       â†’ left=0, right=0
  â”‚       â†’ maxDiameter = max(0, 0+0) = 0
  â”‚       â†’ return max(0,0)+1 = 1
  â”‚
  â”‚   â†’ left=1, right=1
  â”‚   â†’ maxDiameter = max(0, 1+1) = 2  âœ¨ æ›´æ–°ï¼
  â”‚   â†’ return max(1,1)+1 = 2
  â”‚
  â””â”€â”€ maxDepth(3)
      â”œâ”€â”€ maxDepth(null) â†’ return 0
      â””â”€â”€ maxDepth(null) â†’ return 0
      â†’ left=0, right=0
      â†’ maxDiameter = max(2, 0+0) = 2  ï¼ˆä¸å˜ï¼‰
      â†’ return max(0,0)+1 = 1

  â†’ left=2, right=1
  â†’ maxDiameter = max(2, 2+1) = 3  âœ¨ æ›´æ–°ï¼
  â†’ return max(2,1)+1 = 3ï¼ˆæ·±åº¦ï¼Œä½†ä¸å†ä½¿ç”¨ï¼‰

  æœ€ç»ˆç»“æœï¼šmaxDiameter = 3
```
é€’å½’çŠ¶æ€æ±‡æ€»è¡¨ï¼š

| èŠ‚ç‚¹ | leftH | rightH | leftH+rightH | maxDiameteræ›´æ–° | è¿”å›æ·±åº¦ |
|------|-------|--------|--------------|----------------|----------|
| 4    | 0     | 0      | 0            | 0              | 1        |
| 5    | 0     | 0      | 0            | 0              | 1        |
| 2    | 1     | 1      | 2            | 0 â†’ 2 âœ¨       | 2        |
| 3    | 0     | 0      | 0            | 2ï¼ˆä¸å˜ï¼‰       | 1        |
| 1    | 2     | 1      | 3            | 2 â†’ 3 âœ¨       | 3        |

ç›´å¾„ = 3ï¼Œå¯¹åº”è·¯å¾„ä¸º 4 â†’ 2 â†’ 1 â†’ 3ï¼ˆæˆ– 5 â†’ 2 â†’ 1 â†’ 3ï¼‰ï¼Œç»è¿‡ 3 æ¡è¾¹ã€‚

## å¤æ‚åº¦

- Time: O(n)
- Space: O(h)ï¼Œè°ƒç”¨ maxDepthï¼Œh æœ€åä¸º nï¼ˆé€€åŒ–é“¾è¡¨ï¼‰ï¼Œæœ€ä¼˜ä¸º log nï¼ˆå¹³è¡¡æ ‘ï¼‰

---

## ç›¸ä¼¼é¢˜ç›®

- [[ ]]

